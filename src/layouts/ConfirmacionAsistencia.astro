---
import FormularioNiños from "../components/FormularioNiños.astro";
import { supabase } from "../lib/supabase";

const { data: quimicos } = await supabase.from("quimico").select("*");
---

<section class="flex items-center justify-center mt-9" id="confirmarAsistencia">
    <div
        class="bg-black p-4 md:p-16 rounded-lg w-[280px] xs:w-[350px] sm:w-[600px] lg:w-[800px] 2xl:w-[1100px]"
    >
        <form
            class="w-full text-black"
            action="/api/asistenciaSupabase"
            method="post"
        >
            <div class="flex flex-wrap -mx-3 mb-6">
                <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                    <label
                        class="block uppercase tracking-wide text-white text-xs font-bold mb-2"
                        for="nombre"
                    >
                        Nombre
                    </label>
                    <input
                        class="appearance-none block w-full bg-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                        id="nombre"
                        name="nombre"
                        type="text"
                        placeholder="Coloca tu nombre"
                    />
                </div>
                <div class="w-full md:w-1/2 px-3">
                    <label
                        class="block uppercase tracking-wide text-white text-xs font-bold mb-2"
                        for="apellidos"
                    >
                        Apellidos
                    </label>
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="apellidos"
                        name="apellidos"
                        type="text"
                        placeholder="Escribe tus apellidos"
                    />
                </div>
            </div>
            <div class="flex flex-wrap -mx-3 mb-6">
                <div class="w-full px-3">
                    <label
                        class="block uppercase tracking-wide text-white text-xs font-bold mb-2"
                        for="quimico"
                    >
                        A cual de nuestros quimicos farmacobiologos acompañará:
                    </label>
                    <select
                        class="block appearance-none w-full text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="quimico"
                        name="quimico"
                    >
                        {
                            quimicos.map((quimico) => (
                                <option value={quimico.id}>
                                    {quimico.nombre}
                                </option>
                            ))
                        }
                    </select>
                </div>
            </div>
            <FormularioNiños />
            <button type="submit" class="bg-yellow-400 p-3">Enviar</button>
        </form>
    </div>
</section>
